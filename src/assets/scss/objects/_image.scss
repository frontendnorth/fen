/**
 *	Images
 *
 *	For use in blog posts and other CMS-generated body text.
 *
 **/

.o-image {

	margin: $space-xxl auto;
	max-width: 100%;

	&:first-child {
		margin-top: 0;
	}

	&:last-child {
		margin-bottom: 0;
	}

	> img,
	> a > img {
		display: block;
		margin: 0 auto;
		max-width: 100%;
		width: 100%;
	}

	&__caption {
		box-sizing: border-box;
		margin: 0 auto;
		padding: $space-inset-m;
		max-width: $width-page-max;

		@include mq(lg) {
			padding-left: $space-inset-l;
			padding-right: $space-inset-l;
		}

		// Tuck in paragraphs
		& > *:first-child {
			margin-top: 0;
		}

		& > *:last-child {
			margin-bottom: 0;
		}
	}

	// Variations - positioning
	// Cheers, https://gomakethings.com/how-to-break-an-image-out-of-its-parent-container-with-css/
	&--full {
		@supports (width: 100vw) {
			@include mq(lg) {
				left: 50%;
				margin-left: -50vw;
				margin-right: -50vw;
				max-width: 100vw;
				position: relative;
				right: 50%;
				width: 100vw;

				> img {
					max-width: $width-page-max;
				}
			}
		}
	}

}
